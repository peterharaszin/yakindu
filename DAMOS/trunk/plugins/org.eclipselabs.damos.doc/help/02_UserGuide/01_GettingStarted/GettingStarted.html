<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Getting Started</title><link type="text/css" rel="stylesheet" href="../content/PLUGINS_ROOT/PRODUCT_PLUGIN/book.css"/><link type="text/css" rel="stylesheet" href="../../style.css"/></head><body><table class="navigation" style="width: 100%;" border="0" summary="navigation"><tr><th style="width: 100%" align="center" colspan="3">Getting Started</th></tr><tr><td style="width: 20%" align="left"></td><td style="width: 60%" align="center"></td><td style="width: 20%" align="right"><a href="Generating-C-Code.html" title="Generating C Code"><img alt="Next" border="0" src="images/next.gif"/></a></td></tr><tr><td style="width: 20%" align="left" valign="top"></td><td style="width: 60%" align="center"></td><td style="width: 20%" align="right" valign="top">Generating C Code</td></tr></table><hr/><h1 id="CreatingandSimulatingaDamosModel">Creating and Simulating a Damos Model</h1><p>This tutorial provides a step by step walk-through of the basic features of Damos. It will show you how to create a simple Damos model using the block diagram editor and how to simulate the model.</p><h2 id="CreatingaNewDamosProject">Creating a New Damos Project</h2><ol><li>Inside Eclipse select the menu item <strong>File &gt; New &gt; Project...</strong> to open the <strong>New Project</strong> wizard.</li><li>Select <strong>Damos &gt; Damos Project</strong> and then click <strong>Next</strong> to start the <strong>New Damos Project</strong> wizard: <img alt="New Damos Project Wizard" title="New Damos Project Wizard" border="0" src="01_CreatingModel_images/NewDamosProject.png"/></li><li>Enter a project name and click <strong>Finish</strong>.</li><li>In the <strong>Project Explorer</strong>, select the newly created Damos project and select the menu item <strong>File &gt; New &gt; Folder</strong>: <img alt="New Damos Project Wizard" title="New Damos Project Wizard" border="0" src="01_CreatingModel_images/NewModelFolder.png"/></li><li>Enter a name for the model folder and click <strong>Finish</strong>.</li></ol><p><em>Note:</em> Instead of creating a Damos project, any kind of project (e.g. C/C++) can be used as a container for Damos models. However, if you then open a Damos model the first time, you will be asked if a Damos project nature should be added to your project &#8212; which you should agree to. This ensures that model validation is performed automatically.</p><h2 id="CreatingaNewDamosModel">Creating a New Damos Model</h2><ol><li>In the <strong>Project Explorer</strong>, select the model folder and select the menu item <strong>File &gt; New &gt; Other...</strong> to open the <strong>New</strong> wizard.</li><li>Select <strong>Damos &gt; Block Diagram</strong> and then click <strong>Next</strong> to start the <strong>New Block Diagram</strong> wizard: <img alt="New Block Diagram Wizard" title="New Block Diagram Wizard" border="0" src="01_CreatingModel_images/NewBlockDiagram.png"/></li><li>Enter a new model name and click <strong>Finish</strong>.</li></ol><p>After clicking <strong>Finish</strong>, an empty block diagram file will be created in the model folder, and will be opened in a block diagram editor.</p><h2 id="DesigningtheModel">Designing the Model</h2><p>In this section we are going to design a simple PI controller with a first-order process.</p><h3 id="AddingBlockstotheBlockDiagram">Adding Blocks to the Block Diagram</h3><p>To add blocks to the block diagram, either drag-and-drop the block from the tool palette onto the diagram, or select a block in the tool palette and then click at the location in the diagram where you want to add the block. The blocks that we are going to need in our example can be found in the <strong>Common Blocks</strong> drawer of the tool palette. If blocks in the <strong>Common Blocks</strong> drawer are missing, the <strong>Show All</strong> palette entry can be clicked to open all blocks of the block library in the <strong>Block Library</strong> view. Note that you can only drag-and-drop blocks from the <strong>Block Library</strong> view onto the diagram.</p><p>In our PI controller example, we need to add to the following blocks to the block diagram:</p><ul><li>Two <strong>Sum</strong> blocks, a <strong>Gain</strong> block, and an <strong>Integrator</strong> block representing the PI controller</li><li>A <strong>Transfer Function</strong> block representing our process</li><li>A <strong>Step</strong> block and a <strong>Scope</strong> used for simulation purposes</li></ul><p>After adding the blocks to the block diagram, the block diagram should look as follows:  </p><p><img alt="Block diagram with blocks" title="Block diagram with blocks" border="0" src="01_CreatingModel_images/BlockDiagramWithBlocks.png"/></p><p><em>Note:</em> If you save the incomplete model, errors will be reported in your block diagram. This is due to the fact that we did not connect the blocks yet, and thus the model is still invalid.</p><h3 id="SettingBlockandPortProperties">Setting Block and Port Properties</h3><p>When adding new blocks to the block diagram, the values of the block parameters are initialized to default values. To change the block parameter values, you have to open the <strong>Properties</strong> view (if not yet done). To accomplish this, open the context menu (right-click) of a block and click <strong>Show Properties View</strong>. In the <strong>Properties</strong> view, select the tab <strong>Parameters</strong>.</p><p>In our example model, we need to change the following parameters:</p><ul><li>The gain value of the <strong>Gain</strong> block will be set to 10: <img alt="Gain parameters" title="Gain parameters" border="0" src="01_CreatingModel_images/GainParameters.png"/></li><li>The gain value of the <strong>Integrator</strong> block will be set to 10(1/s): <img alt="Integrator parameters" title="Integrator parameters" border="0" src="01_CreatingModel_images/IntegratorParameters.png"/></li></ul><p>Note that you can also set the gain value of the <strong>Gain</strong> block by clicking (not double-clicking!) on the gain value of the <strong>Gain</strong> block (do not move the mouse after the click). This <em>direct editing</em> behavior can also be found with other blocks.</p><p>Next, we need to change the sign of the second input port of the left <strong>Sum</strong> block to <em>negative</em>. This is is done in the <strong>Ports</strong> tab of the <strong>Properties</strong> view:</p><p><img alt="Sum input port sign" title="Sum input port sign" border="0" src="01_CreatingModel_images/SumInputPortSign.png"/></p><p>Finally, we need to change the port arrangement of the right <strong>Sum</strong> block to <strong>Port-spacer-port</strong>. This is is done in the <strong>Ports</strong> tab of the <strong>Properties</strong> view:</p><p><img alt="Sum input port port arrangement" title="Sum input port port arrangement" border="0" src="01_CreatingModel_images/SumInputPortArrangement.png"/></p><h3 id="ConnectingBlocks">Connecting Blocks</h3><p>To create a connection between an input port of a block and an output port of another block, click the port terminal of either block and drag it to the port terminal of the other block. Alternatively, you can use the <strong>Connection</strong> tool in the <strong>General</strong> palette drawer to create connections between two blocks. After connecting the blocks, the block diagram should look as follows:</p><p><img alt="Final block diagram" title="Final block diagram" border="0" src="01_CreatingModel_images/FinalBlockDiagram.png"/></p><h2 id="SimulatingtheModel">Simulating the Model</h2><p>The easiest way to simulate the model is by setting the focus on the block diagram editor, and then clicking the <strong>Run</strong> (<img border="0" src="01_CreatingModel_images/run_exc.gif"/>) icon in the toolbar. This will create a new simulation run configuration for the focused block diagram, and start the simulation. The simulation result will be shown in the <strong>Simulation</strong> view:</p><p><img alt="Simulation result" title="Simulation result" border="0" src="01_CreatingModel_images/SimulationResult.png"/></p><p>The default simulation run configuration utilizes a commonly used adaptive step size solver (Dormand-Prince 5(4)) using a typical solver configuration. If required, you can adjust the simulation settings in the simulation run configuration dialog (<strong>Run &gt; Run Configurations...</strong>):</p><p><img alt="Simulation run configuration" title="Simulation run configuration" border="0" src="01_CreatingModel_images/SimulationRunConfiguration.png"/></p><p>If you need more control over the simulation, you can define a <em>simulation model</em>, which will directly be passed to the simulator by the simulation launcher. See the topic <em>Concepts</em> for more information on the simulation model.</p><hr/><table class="navigation" style="width: 100%;" border="0" summary="navigation"><tr><td style="width: 20%" align="left"></td><td style="width: 60%" align="center"></td><td style="width: 20%" align="right"><a href="Generating-C-Code.html" title="Generating C Code"><img alt="Next" border="0" src="images/next.gif"/></a></td></tr><tr><td style="width: 20%" align="left" valign="top"></td><td style="width: 60%" align="center"></td><td style="width: 20%" align="right" valign="top">Generating C Code</td></tr></table></body></html>